<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__b_h1750_8h_source" xml:lang="en-US">
<title>BH1750.h</title>
<indexterm><primary>lib/BH1750/BH1750.h</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="__b_h1750_8h_source_1l00001"/>00001 <emphasis role="preprocessor">#ifndef&#32;__BH1750_H__</emphasis>
<anchor xml:id="__b_h1750_8h_source_1l00002"/>00002 <emphasis role="preprocessor">#define&#32;__BH1750_H__</emphasis>
<anchor xml:id="__b_h1750_8h_source_1l00003"/>00003 
<anchor xml:id="__b_h1750_8h_source_1l00004"/>00004 <emphasis role="preprocessor">#include&#32;&quot;hardware/i2c.h&quot;</emphasis>
<anchor xml:id="__b_h1750_8h_source_1l00005"/>00005 
<anchor xml:id="__b_h1750_8h_source_1l00006"/>00006 <emphasis role="comment">//&#32;Define&#32;constants</emphasis>
<anchor xml:id="__b_h1750_8h_source_1l00007"/><link linkend="__b_h1750_8h_1aad341433a609b42d1151895817f1745c">00007</link> <emphasis role="preprocessor">#define&#32;_BH1750_DEVICE_ID&#32;0xE1&#32;&#32;</emphasis><emphasis role="comment">//&#32;Correct&#32;content&#32;of&#32;WHO_AM_I&#32;register</emphasis>
<anchor xml:id="__b_h1750_8h_source_1l00008"/><link linkend="__b_h1750_8h_1a789aa19af17a7bd05257004f47175178">00008</link> <emphasis role="preprocessor">#define&#32;_BH1750_MTREG_MIN&#32;31</emphasis>
<anchor xml:id="__b_h1750_8h_source_1l00009"/><link linkend="__b_h1750_8h_1aceb598336053a7a1277bb3d098c52db0">00009</link> <emphasis role="preprocessor">#define&#32;_BH1750_MTREG_MAX&#32;254</emphasis>
<anchor xml:id="__b_h1750_8h_source_1l00010"/><link linkend="__b_h1750_8h_1ab60764acdd32eebac725b0d62ee417f4">00010</link> <emphasis role="preprocessor">#define&#32;_BH1750_DEFAULT_MTREG&#32;69</emphasis>
<anchor xml:id="__b_h1750_8h_source_1l00011"/>00011 
<anchor xml:id="__b_h1750_8h_source_1l00012"/><link linkend="_class_b_h1750">00012</link> <emphasis role="keyword">class&#32;</emphasis><link linkend="_class_b_h1750_1ad3621c02c56c15e4f3d40f0974a376f2">BH1750</link>&#32;{
<anchor xml:id="__b_h1750_8h_source_1l00013"/>00013 <emphasis role="keyword">public</emphasis>:
<anchor xml:id="__b_h1750_8h_source_1l00014"/>00014 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Scoped&#32;enum&#32;for&#32;measurement&#32;modes</emphasis>
<anchor xml:id="__b_h1750_8h_source_1l00015"/><link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0">00015</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">enum&#32;class</emphasis>&#32;<link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0">Mode</link>&#32;:&#32;uint8_t&#32;{
<anchor xml:id="__b_h1750_8h_source_1l00016"/><link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0a9d4b69a5f725a5105a480e2e5d67e851">00016</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0a9d4b69a5f725a5105a480e2e5d67e851">UNCONFIGURED_POWER_DOWN</link>&#32;=&#32;0x00,
<anchor xml:id="__b_h1750_8h_source_1l00017"/><link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0a3d6fc432ff9e2d9b890c591179a4401e">00017</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0a3d6fc432ff9e2d9b890c591179a4401e">POWER_ON</link>&#32;=&#32;0x01,
<anchor xml:id="__b_h1750_8h_source_1l00018"/><link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0ab5859d8721cfdc0312b2838b9c985bc1">00018</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0ab5859d8721cfdc0312b2838b9c985bc1">RESET</link>&#32;=&#32;0x07,
<anchor xml:id="__b_h1750_8h_source_1l00019"/><link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0afd7abdb36f193409d2a88bf176763911">00019</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0afd7abdb36f193409d2a88bf176763911">CONTINUOUS_HIGH_RES_MODE</link>&#32;=&#32;0x10,
<anchor xml:id="__b_h1750_8h_source_1l00020"/><link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0ac12663db8fda5e471cb5b946171a20b1">00020</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0ac12663db8fda5e471cb5b946171a20b1">CONTINUOUS_HIGH_RES_MODE_2</link>&#32;=&#32;0x11,
<anchor xml:id="__b_h1750_8h_source_1l00021"/><link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0ac32e5d6f3f1a6561e874a4a8fd60723f">00021</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0ac32e5d6f3f1a6561e874a4a8fd60723f">CONTINUOUS_LOW_RES_MODE</link>&#32;=&#32;0x13,
<anchor xml:id="__b_h1750_8h_source_1l00022"/><link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0ae6af2d70de1e4c57254d72b3b1b57e35">00022</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0ae6af2d70de1e4c57254d72b3b1b57e35">ONE_TIME_HIGH_RES_MODE</link>&#32;=&#32;0x20,
<anchor xml:id="__b_h1750_8h_source_1l00023"/><link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0a459f53ea14165ac4c845757c4c93022a">00023</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0a459f53ea14165ac4c845757c4c93022a">ONE_TIME_HIGH_RES_MODE_2</link>&#32;=&#32;0x21,
<anchor xml:id="__b_h1750_8h_source_1l00024"/><link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0a4f81ddfb660e4f3e0bc4228c61ff6dc6">00024</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0a4f81ddfb660e4f3e0bc4228c61ff6dc6">ONE_TIME_LOW_RES_MODE</link>&#32;=&#32;0x23
<anchor xml:id="__b_h1750_8h_source_1l00025"/>00025 &#32;&#32;&#32;&#32;};
<anchor xml:id="__b_h1750_8h_source_1l00026"/>00026 
<anchor xml:id="__b_h1750_8h_source_1l00027"/>00027 &#32;&#32;&#32;&#32;<link linkend="_class_b_h1750_1ad3621c02c56c15e4f3d40f0974a376f2">BH1750</link>(uint8_t&#32;addr&#32;=&#32;0x23);
<anchor xml:id="__b_h1750_8h_source_1l00028"/>00028 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_b_h1750_1ae0e57ed9ecc08464a6b98b733d420e11">begin</link>(<link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0">Mode</link>&#32;mode&#32;=&#32;<link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0afd7abdb36f193409d2a88bf176763911">Mode::CONTINUOUS_HIGH_RES_MODE</link>);
<anchor xml:id="__b_h1750_8h_source_1l00029"/>00029 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_b_h1750_1ab4f497d6aabaa34ba1ace42206bca286">configure</link>(<link linkend="_class_b_h1750_1a8402147d4b96294da6362b538d4827c0">Mode</link>&#32;mode);
<anchor xml:id="__b_h1750_8h_source_1l00030"/>00030 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_class_b_h1750_1a15a9940a67c05b9f9a781b032fa4701e">readLightLevel</link>();
<anchor xml:id="__b_h1750_8h_source_1l00031"/>00031 
<anchor xml:id="__b_h1750_8h_source_1l00032"/>00032 <emphasis role="keyword">private</emphasis>:
<anchor xml:id="__b_h1750_8h_source_1l00033"/>00033 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_b_h1750_1a3208587c6a4e0a6428f53c176c0b2970">write8</link>(uint8_t&#32;data);
<anchor xml:id="__b_h1750_8h_source_1l00034"/><link linkend="_class_b_h1750_1ab332014adec6fccc44f11da4034e788e">00034</link> &#32;&#32;&#32;&#32;uint8_t&#32;<link linkend="_class_b_h1750_1ab332014adec6fccc44f11da4034e788e">_i2c_addr</link>;
<anchor xml:id="__b_h1750_8h_source_1l00035"/>00035 };
<anchor xml:id="__b_h1750_8h_source_1l00036"/>00036 
<anchor xml:id="__b_h1750_8h_source_1l00037"/>00037 <emphasis role="preprocessor">#endif&#32;</emphasis><emphasis role="comment">//&#32;__BH1750_H__</emphasis>
</programlisting></section>
