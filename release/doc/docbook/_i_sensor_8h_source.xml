<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__i_sensor_8h_source" xml:lang="en-US">
<title>ISensor.h</title>
<indexterm><primary>lib/ISensor.h</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="__i_sensor_8h_source_1l00001"/>00001 <emphasis role="comment">//&#32;ISensor.h</emphasis>
<anchor xml:id="__i_sensor_8h_source_1l00002"/>00002 <emphasis role="preprocessor">#ifndef&#32;ISENSOR_H</emphasis>
<anchor xml:id="__i_sensor_8h_source_1l00003"/>00003 <emphasis role="preprocessor">#define&#32;ISENSOR_H</emphasis>
<anchor xml:id="__i_sensor_8h_source_1l00004"/>00004 
<anchor xml:id="__i_sensor_8h_source_1l00005"/>00005 <emphasis role="preprocessor">#include&#32;&lt;cstdint&gt;</emphasis>
<anchor xml:id="__i_sensor_8h_source_1l00006"/>00006 <emphasis role="preprocessor">#include&#32;&quot;hardware/i2c.h&quot;</emphasis>
<anchor xml:id="__i_sensor_8h_source_1l00007"/>00007 <emphasis role="preprocessor">#include&#32;&lt;map&gt;</emphasis>
<anchor xml:id="__i_sensor_8h_source_1l00008"/>00008 <emphasis role="preprocessor">#include&#32;&lt;string&gt;</emphasis>
<anchor xml:id="__i_sensor_8h_source_1l00009"/>00009 
<anchor xml:id="__i_sensor_8h_source_1l00010"/><link linkend="__i_sensor_8h_1a213c434cb928c4ca22513e2302632435">00010</link> <emphasis role="keyword">enum&#32;class</emphasis>&#32;<link linkend="__i_sensor_8h_1a213c434cb928c4ca22513e2302632435">SensorType</link>&#32;{
<anchor xml:id="__i_sensor_8h_source_1l00011"/><link linkend="__i_sensor_8h_1a213c434cb928c4ca22513e2302632435af8589806bbf66241917092b2a6e18c6f">00011</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a213c434cb928c4ca22513e2302632435af8589806bbf66241917092b2a6e18c6f">LIGHT</link>,&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;BH1750</emphasis>
<anchor xml:id="__i_sensor_8h_source_1l00012"/><link linkend="__i_sensor_8h_1a213c434cb928c4ca22513e2302632435a889a65415d92b72cffa7df3f8ecf13f9">00012</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a213c434cb928c4ca22513e2302632435a889a65415d92b72cffa7df3f8ecf13f9">ENVIRONMENT</link>,&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;BME280</emphasis>
<anchor xml:id="__i_sensor_8h_source_1l00013"/><link linkend="__i_sensor_8h_1a213c434cb928c4ca22513e2302632435acf29c1440f69cc71f0169036831ef688">00013</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a213c434cb928c4ca22513e2302632435acf29c1440f69cc71f0169036831ef688">MAGNETOMETER</link>,&#32;&#32;&#32;<emphasis role="comment">//&#32;HMC5883L</emphasis>
<anchor xml:id="__i_sensor_8h_source_1l00014"/><link linkend="__i_sensor_8h_1a213c434cb928c4ca22513e2302632435aadce094d314507ad8b234a286aeff254">00014</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a213c434cb928c4ca22513e2302632435aadce094d314507ad8b234a286aeff254">IMU</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;MPU6050</emphasis>
<anchor xml:id="__i_sensor_8h_source_1l00015"/>00015 };
<anchor xml:id="__i_sensor_8h_source_1l00016"/>00016 
<anchor xml:id="__i_sensor_8h_source_1l00017"/><link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5e">00017</link> <emphasis role="keyword">enum&#32;class</emphasis>&#32;<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5e">SensorDataTypeIdentifier</link>&#32;{
<anchor xml:id="__i_sensor_8h_source_1l00018"/><link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5eacda5661f062d9a45c6d0833b4a9509d5">00018</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5eacda5661f062d9a45c6d0833b4a9509d5">LIGHT_LEVEL</link>,
<anchor xml:id="__i_sensor_8h_source_1l00019"/><link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5eab976538812ef6e3e5881e245d5fc3c76">00019</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5eab976538812ef6e3e5881e245d5fc3c76">TEMPERATURE</link>,
<anchor xml:id="__i_sensor_8h_source_1l00020"/><link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ea6753182d0065061a189bb834145e8cd1">00020</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ea6753182d0065061a189bb834145e8cd1">PRESSURE</link>,
<anchor xml:id="__i_sensor_8h_source_1l00021"/><link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ea1bfd5cb0758595fd2f392b93a92e8fff">00021</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ea1bfd5cb0758595fd2f392b93a92e8fff">HUMIDITY</link>,
<anchor xml:id="__i_sensor_8h_source_1l00022"/><link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ead5a372241abd626a812f95cf96c944fe">00022</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ead5a372241abd626a812f95cf96c944fe">MAG_FIELD_X</link>,
<anchor xml:id="__i_sensor_8h_source_1l00023"/><link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ea78f2cbc8bdf1c0b3fd850b61b498aec4">00023</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ea78f2cbc8bdf1c0b3fd850b61b498aec4">MAG_FIELD_Y</link>,
<anchor xml:id="__i_sensor_8h_source_1l00024"/><link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ea9cbf4039cff07b4022c091d7504fbce3">00024</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ea9cbf4039cff07b4022c091d7504fbce3">MAG_FIELD_Z</link>,
<anchor xml:id="__i_sensor_8h_source_1l00025"/><link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5eac1c3284544a5f45468e473003dc69607">00025</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5eac1c3284544a5f45468e473003dc69607">GYRO_X</link>,
<anchor xml:id="__i_sensor_8h_source_1l00026"/><link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ea1d76fcded0952db41da628bf6daed0c3">00026</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ea1d76fcded0952db41da628bf6daed0c3">GYRO_Y</link>,
<anchor xml:id="__i_sensor_8h_source_1l00027"/><link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5eaeb7756cd2aab775f20e875fffac7164b">00027</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5eaeb7756cd2aab775f20e875fffac7164b">GYRO_Z</link>,
<anchor xml:id="__i_sensor_8h_source_1l00028"/><link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5eaf40842440c8755e09c812230a22630d1">00028</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5eaf40842440c8755e09c812230a22630d1">ACCEL_X</link>,
<anchor xml:id="__i_sensor_8h_source_1l00029"/><link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ea405032ec76977ae01f3fbb4d49e5fdc2">00029</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ea405032ec76977ae01f3fbb4d49e5fdc2">ACCEL_Y</link>,
<anchor xml:id="__i_sensor_8h_source_1l00030"/><link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ea1c4f76e519abc5e65a5e88fa335897da">00030</link> &#32;&#32;&#32;&#32;<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5ea1c4f76e519abc5e65a5e88fa335897da">ACCEL_Z</link>
<anchor xml:id="__i_sensor_8h_source_1l00031"/>00031 };
<anchor xml:id="__i_sensor_8h_source_1l00032"/>00032 
<anchor xml:id="__i_sensor_8h_source_1l00033"/><link linkend="_class_i_sensor">00033</link> <emphasis role="keyword">class&#32;</emphasis><link linkend="_class_i_sensor">ISensor</link>&#32;{
<anchor xml:id="__i_sensor_8h_source_1l00034"/>00034 <emphasis role="keyword">public</emphasis>:
<anchor xml:id="__i_sensor_8h_source_1l00035"/><link linkend="_class_i_sensor_1adbd5b40ebbf9a78b9845d22dddfac351">00035</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">virtual</emphasis>&#32;<link linkend="_class_i_sensor_1adbd5b40ebbf9a78b9845d22dddfac351">~ISensor</link>()&#32;=&#32;<emphasis role="keywordflow">default</emphasis>;
<anchor xml:id="__i_sensor_8h_source_1l00036"/><link linkend="_class_i_sensor_1a28051b0215d618d82556c8bb2c0abd29">00036</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_i_sensor_1a28051b0215d618d82556c8bb2c0abd29">init</link>()&#32;=&#32;0;
<anchor xml:id="__i_sensor_8h_source_1l00037"/><link linkend="_class_i_sensor_1ae8363f6253e47aa23d04c07334f49b5d">00037</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_class_i_sensor_1ae8363f6253e47aa23d04c07334f49b5d">readData</link>(<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5e">SensorDataTypeIdentifier</link>&#32;type)&#32;=&#32;0;
<anchor xml:id="__i_sensor_8h_source_1l00038"/><link linkend="_class_i_sensor_1a35a720334040ca754deb0931fc6f1b50">00038</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_i_sensor_1a35a720334040ca754deb0931fc6f1b50">isInitialized</link>()&#32;<emphasis role="keyword">const</emphasis>&#32;=&#32;0;
<anchor xml:id="__i_sensor_8h_source_1l00039"/><link linkend="_class_i_sensor_1a649cfa6c1888996f392f401e7d26125c">00039</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">virtual</emphasis>&#32;<link linkend="__i_sensor_8h_1a213c434cb928c4ca22513e2302632435">SensorType</link>&#32;<link linkend="_class_i_sensor_1a649cfa6c1888996f392f401e7d26125c">getType</link>()&#32;<emphasis role="keyword">const</emphasis>&#32;=&#32;0;
<anchor xml:id="__i_sensor_8h_source_1l00040"/><link linkend="_class_i_sensor_1aa5fd04ca51fa10cb8d0bcc835b14fb33">00040</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_i_sensor_1aa5fd04ca51fa10cb8d0bcc835b14fb33">configure</link>(<emphasis role="keyword">const</emphasis>&#32;std::map&lt;std::string,&#32;std::string&gt;&amp;&#32;config)&#32;=&#32;0;
<anchor xml:id="__i_sensor_8h_source_1l00041"/>00041 };
<anchor xml:id="__i_sensor_8h_source_1l00042"/>00042 
<anchor xml:id="__i_sensor_8h_source_1l00043"/><link linkend="_class_sensor_wrapper">00043</link> <emphasis role="keyword">class&#32;</emphasis><link linkend="_class_sensor_wrapper_1a1702516a09884caf599fad7761dd04c1">SensorWrapper</link>&#32;{
<anchor xml:id="__i_sensor_8h_source_1l00044"/>00044 <emphasis role="keyword">public</emphasis>:
<anchor xml:id="__i_sensor_8h_source_1l00045"/>00045 &#32;&#32;&#32;&#32;<emphasis role="keyword">static</emphasis>&#32;<link linkend="_class_sensor_wrapper_1a1702516a09884caf599fad7761dd04c1">SensorWrapper</link>&amp;&#32;<link linkend="_class_sensor_wrapper_1adac086bdfb57168899df56fc431c5f41">getInstance</link>();
<anchor xml:id="__i_sensor_8h_source_1l00046"/>00046 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_sensor_wrapper_1acbec9bb41e3edd34146eacbf23a807a1">initSensor</link>(<link linkend="__i_sensor_8h_1a213c434cb928c4ca22513e2302632435">SensorType</link>&#32;type,&#32;i2c_inst_t*&#32;i2c&#32;=&#32;<emphasis role="keyword">nullptr</emphasis>);
<anchor xml:id="__i_sensor_8h_source_1l00047"/>00047 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_sensor_wrapper_1aeaa7bbc1f7d31212348fd617392cc8d4">configureSensor</link>(<link linkend="__i_sensor_8h_1a213c434cb928c4ca22513e2302632435">SensorType</link>&#32;type,&#32;<emphasis role="keyword">const</emphasis>&#32;std::map&lt;std::string,&#32;std::string&gt;&amp;&#32;config);
<anchor xml:id="__i_sensor_8h_source_1l00048"/>00048 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_class_sensor_wrapper_1a1b30eac9a56098470f130754134057b9">readSensorData</link>(<link linkend="__i_sensor_8h_1a213c434cb928c4ca22513e2302632435">SensorType</link>&#32;sensorType,&#32;<link linkend="__i_sensor_8h_1a21b0301bb3eb76855366980212c8ae5e">SensorDataTypeIdentifier</link>&#32;dataType);
<anchor xml:id="__i_sensor_8h_source_1l00049"/>00049 
<anchor xml:id="__i_sensor_8h_source_1l00050"/>00050 <emphasis role="keyword">private</emphasis>:
<anchor xml:id="__i_sensor_8h_source_1l00051"/><link linkend="_class_sensor_wrapper_1ae06e367395181a74d676c533393b47be">00051</link> &#32;&#32;&#32;&#32;std::map&lt;SensorType,&#32;ISensor*&gt;&#32;<link linkend="_class_sensor_wrapper_1ae06e367395181a74d676c533393b47be">sensors</link>;
<anchor xml:id="__i_sensor_8h_source_1l00052"/><link linkend="_class_sensor_wrapper_1a1702516a09884caf599fad7761dd04c1">00052</link> &#32;&#32;&#32;&#32;<link linkend="_class_sensor_wrapper_1a1702516a09884caf599fad7761dd04c1">SensorWrapper</link>();
<anchor xml:id="__i_sensor_8h_source_1l00053"/>00053 };
<anchor xml:id="__i_sensor_8h_source_1l00054"/>00054 
<anchor xml:id="__i_sensor_8h_source_1l00055"/>00055 <emphasis role="preprocessor">#endif&#32;</emphasis><emphasis role="comment">//&#32;ISENSOR_H</emphasis>
</programlisting></section>
