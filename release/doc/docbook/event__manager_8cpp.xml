<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_event__manager_8cpp" xml:lang="en-US">
<title>event_manager.cpp File Reference</title>
<indexterm><primary>event_manager.cpp</primary></indexterm>
<programlisting linenumbering="unnumbered">#include &quot;event_manager.h&quot;<?linebreak?>#include &lt;cstdio&gt;<?linebreak?>#include &quot;protocol.h&quot;<?linebreak?>#include &quot;pico/multicore.h&quot;<?linebreak?>#include &quot;communication.h&quot;<?linebreak?>#include &quot;utils.h&quot;<?linebreak?>#include &quot;DS3231.h&quot;<?linebreak?></programlisting><simplesect>
    <title>Functions    </title>
        <itemizedlist>
            <listitem><para>void <link linkend="_event__manager_8cpp_1a467714d66058f52e4ac7aeb6df46b433">checkPowerEvents</link> (<link linkend="_class_power_manager">PowerManager</link> &amp;pm)</para>

<para>Checks power statuses and triggers events based on voltage trends. </para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Variables    </title>
        <itemizedlist>
            <listitem><para>volatile uint16_t <link linkend="_event__manager_8cpp_1ab144678e47784f421d98c3dfdbb53dc8">eventLogId</link> = 0</para>
</listitem>
            <listitem><para>static <link linkend="_event__manager_8h_1a8b04683add0105a3bf3200eee3d9d3e6">PowerEvent</link> <link linkend="_event__manager_8cpp_1a2d4329f1e2606ca8f8535dae8c08afe5">lastPowerState</link> = <link linkend="_event__manager_8h_1a8b04683add0105a3bf3200eee3d9d3e6a36d76a2d86f6dbf2035366b3572f025c">PowerEvent::LOW_BATTERY</link></para>
</listitem>
            <listitem><para>static constexpr float <link linkend="_event__manager_8cpp_1a234988dfb88db38997bd921cd5c32457">FALL_RATE_THRESHOLD</link> = -0.02f</para>
</listitem>
            <listitem><para>static constexpr int <link linkend="_event__manager_8cpp_1ae4e7da8cdf52e447acd5705d930759cf">FALLING_TREND_REQUIRED</link> = 3</para>
</listitem>
            <listitem><para>static constexpr float <link linkend="_event__manager_8cpp_1aa1095ab71c42b3eaed0492aec0941972">VOLTAGE_LOW_THRESHOLD</link> = 4.7f</para>
</listitem>
            <listitem><para>static constexpr float <link linkend="_event__manager_8cpp_1a98ed7b83dd5e1a54a096ca9bb3456163">VOLTAGE_OVERCHARGE_THRESHOLD</link> = 5.3f</para>
</listitem>
            <listitem><para>static int <link linkend="_event__manager_8cpp_1ad4a2e48e0a0e0d5aa49dd6c2aa12d8fb">fallingTrendCount</link> = 0</para>
</listitem>
            <listitem><para>bool <link linkend="_event__manager_8cpp_1a908d9cb4eb9ec61d273f6770660bbb8e">lastSolarState</link> = false</para>
</listitem>
            <listitem><para>bool <link linkend="_event__manager_8cpp_1a0592f758055ae8683676ff86ae7ae9e1">lastUSBState</link> = false</para>
</listitem>
            <listitem><para><link linkend="_class_d_s3231">DS3231</link> <link linkend="_event__manager_8cpp_1abfd573c8a839ac00ea3b96d691ea11c3">systemClock</link></para>
</listitem>
            <listitem><para><link linkend="_class_event_manager_impl">EventManagerImpl</link> <link linkend="_event__manager_8cpp_1a2a686792b51ec2b9e1b7bfc9faef92f7">eventManager</link></para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Function Documentation</title>
<anchor xml:id="_event__manager_8cpp_1a467714d66058f52e4ac7aeb6df46b433"/><section>
    <title>checkPowerEvents()</title>
<indexterm><primary>checkPowerEvents</primary><secondary>event_manager.cpp</secondary></indexterm>
<indexterm><primary>event_manager.cpp</primary><secondary>checkPowerEvents</secondary></indexterm>
<para><computeroutput>void checkPowerEvents (<link linkend="_class_power_manager">PowerManager</link> &amp; pm)</computeroutput></para><para>

<para>Checks power statuses and triggers events based on voltage trends. </para>
</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>pm</entry><entry>
<para>Reference to the <link linkend="_class_power_manager">PowerManager</link> object. </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
<para>
Definition at line <link linkend="_event__manager_8cpp_source_1l00077">77</link> of file <link linkend="_event__manager_8cpp_source">event_manager.cpp</link>.</para>
</section>
</section>
<section>
<title>Variable Documentation</title>
<anchor xml:id="_event__manager_8cpp_1ab144678e47784f421d98c3dfdbb53dc8"/><section>
    <title>eventLogId</title>
<indexterm><primary>eventLogId</primary><secondary>event_manager.cpp</secondary></indexterm>
<indexterm><primary>event_manager.cpp</primary><secondary>eventLogId</secondary></indexterm>
<para><computeroutput>volatile uint16_t eventLogId = 0</computeroutput></para><para>
Definition at line <link linkend="_event__manager_8cpp_source_1l00009">9</link> of file <link linkend="_event__manager_8cpp_source">event_manager.cpp</link>.</para>
</section>
<anchor xml:id="_event__manager_8cpp_1a2a686792b51ec2b9e1b7bfc9faef92f7"/><section>
    <title>eventManager</title>
<indexterm><primary>eventManager</primary><secondary>event_manager.cpp</secondary></indexterm>
<indexterm><primary>event_manager.cpp</primary><secondary>eventManager</secondary></indexterm>
<para><computeroutput><link linkend="_class_event_manager_impl">EventManagerImpl</link> eventManager</computeroutput></para><para>
Definition at line <link linkend="_event__manager_8cpp_source_1l00026">26</link> of file <link linkend="_event__manager_8cpp_source">event_manager.cpp</link>.</para>
</section>
<anchor xml:id="_event__manager_8cpp_1a234988dfb88db38997bd921cd5c32457"/><section>
    <title>FALL_RATE_THRESHOLD</title>
<indexterm><primary>FALL_RATE_THRESHOLD</primary><secondary>event_manager.cpp</secondary></indexterm>
<indexterm><primary>event_manager.cpp</primary><secondary>FALL_RATE_THRESHOLD</secondary></indexterm>
<para><computeroutput>float FALL_RATE_THRESHOLD = -0.02f<computeroutput>[static]</computeroutput>, <computeroutput>[constexpr]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_event__manager_8cpp_source_1l00013">13</link> of file <link linkend="_event__manager_8cpp_source">event_manager.cpp</link>.</para>
</section>
<anchor xml:id="_event__manager_8cpp_1ae4e7da8cdf52e447acd5705d930759cf"/><section>
    <title>FALLING_TREND_REQUIRED</title>
<indexterm><primary>FALLING_TREND_REQUIRED</primary><secondary>event_manager.cpp</secondary></indexterm>
<indexterm><primary>event_manager.cpp</primary><secondary>FALLING_TREND_REQUIRED</secondary></indexterm>
<para><computeroutput>int FALLING_TREND_REQUIRED = 3<computeroutput>[static]</computeroutput>, <computeroutput>[constexpr]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_event__manager_8cpp_source_1l00014">14</link> of file <link linkend="_event__manager_8cpp_source">event_manager.cpp</link>.</para>
</section>
<anchor xml:id="_event__manager_8cpp_1ad4a2e48e0a0e0d5aa49dd6c2aa12d8fb"/><section>
    <title>fallingTrendCount</title>
<indexterm><primary>fallingTrendCount</primary><secondary>event_manager.cpp</secondary></indexterm>
<indexterm><primary>event_manager.cpp</primary><secondary>fallingTrendCount</secondary></indexterm>
<para><computeroutput>int fallingTrendCount = 0<computeroutput>[static]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_event__manager_8cpp_source_1l00019">19</link> of file <link linkend="_event__manager_8cpp_source">event_manager.cpp</link>.</para>
</section>
<anchor xml:id="_event__manager_8cpp_1a2d4329f1e2606ca8f8535dae8c08afe5"/><section>
    <title>lastPowerState</title>
<indexterm><primary>lastPowerState</primary><secondary>event_manager.cpp</secondary></indexterm>
<indexterm><primary>event_manager.cpp</primary><secondary>lastPowerState</secondary></indexterm>
<para><computeroutput><link linkend="_event__manager_8h_1a8b04683add0105a3bf3200eee3d9d3e6">PowerEvent</link> lastPowerState = <link linkend="_event__manager_8h_1a8b04683add0105a3bf3200eee3d9d3e6a36d76a2d86f6dbf2035366b3572f025c">PowerEvent::LOW_BATTERY</link><computeroutput>[static]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_event__manager_8cpp_source_1l00011">11</link> of file <link linkend="_event__manager_8cpp_source">event_manager.cpp</link>.</para>
</section>
<anchor xml:id="_event__manager_8cpp_1a908d9cb4eb9ec61d273f6770660bbb8e"/><section>
    <title>lastSolarState</title>
<indexterm><primary>lastSolarState</primary><secondary>event_manager.cpp</secondary></indexterm>
<indexterm><primary>event_manager.cpp</primary><secondary>lastSolarState</secondary></indexterm>
<para><computeroutput>bool lastSolarState = false</computeroutput></para><para>
Definition at line <link linkend="_event__manager_8cpp_source_1l00021">21</link> of file <link linkend="_event__manager_8cpp_source">event_manager.cpp</link>.</para>
</section>
<anchor xml:id="_event__manager_8cpp_1a0592f758055ae8683676ff86ae7ae9e1"/><section>
    <title>lastUSBState</title>
<indexterm><primary>lastUSBState</primary><secondary>event_manager.cpp</secondary></indexterm>
<indexterm><primary>event_manager.cpp</primary><secondary>lastUSBState</secondary></indexterm>
<para><computeroutput>bool lastUSBState = false</computeroutput></para><para>
Definition at line <link linkend="_event__manager_8cpp_source_1l00022">22</link> of file <link linkend="_event__manager_8cpp_source">event_manager.cpp</link>.</para>
</section>
<anchor xml:id="_event__manager_8cpp_1abfd573c8a839ac00ea3b96d691ea11c3"/><section>
    <title>systemClock</title>
<indexterm><primary>systemClock</primary><secondary>event_manager.cpp</secondary></indexterm>
<indexterm><primary>event_manager.cpp</primary><secondary>systemClock</secondary></indexterm>
<para><computeroutput><link linkend="_class_d_s3231">DS3231</link> systemClock<computeroutput>[extern]</computeroutput></computeroutput></para></section>
<anchor xml:id="_event__manager_8cpp_1aa1095ab71c42b3eaed0492aec0941972"/><section>
    <title>VOLTAGE_LOW_THRESHOLD</title>
<indexterm><primary>VOLTAGE_LOW_THRESHOLD</primary><secondary>event_manager.cpp</secondary></indexterm>
<indexterm><primary>event_manager.cpp</primary><secondary>VOLTAGE_LOW_THRESHOLD</secondary></indexterm>
<para><computeroutput>float VOLTAGE_LOW_THRESHOLD = 4.7f<computeroutput>[static]</computeroutput>, <computeroutput>[constexpr]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_event__manager_8cpp_source_1l00015">15</link> of file <link linkend="_event__manager_8cpp_source">event_manager.cpp</link>.</para>
</section>
<anchor xml:id="_event__manager_8cpp_1a98ed7b83dd5e1a54a096ca9bb3456163"/><section>
    <title>VOLTAGE_OVERCHARGE_THRESHOLD</title>
<indexterm><primary>VOLTAGE_OVERCHARGE_THRESHOLD</primary><secondary>event_manager.cpp</secondary></indexterm>
<indexterm><primary>event_manager.cpp</primary><secondary>VOLTAGE_OVERCHARGE_THRESHOLD</secondary></indexterm>
<para><computeroutput>float VOLTAGE_OVERCHARGE_THRESHOLD = 5.3f<computeroutput>[static]</computeroutput>, <computeroutput>[constexpr]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_event__manager_8cpp_source_1l00017">17</link> of file <link linkend="_event__manager_8cpp_source">event_manager.cpp</link>.</para>
</section>
</section>
</section>
