<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KubiSat Firmware: lib/comms/communication.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">KubiSat Firmware
   </div>
   <div id="projectbrief">KubiSat Satellite Firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('communication_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">communication.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;string&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;<a class="el" href="protocol_8h_source.html">protocol.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="event__manager_8h_source.html">event_manager.h</a>&quot;</code><br />
</div>
<p><a href="communication_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8f817ba4ed9164098cd3947f7cc3f749" id="r_a8f817ba4ed9164098cd3947f7cc3f749"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f817ba4ed9164098cd3947f7cc3f749">initialize_radio</a> ()</td></tr>
<tr class="memdesc:a8f817ba4ed9164098cd3947f7cc3f749"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the LoRa radio module.  <br /></td></tr>
<tr class="separator:a8f817ba4ed9164098cd3947f7cc3f749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f494105dee3a08e1244febc81982517" id="r_a3f494105dee3a08e1244febc81982517"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f494105dee3a08e1244febc81982517">on_receive</a> (int packetSize)</td></tr>
<tr class="memdesc:a3f494105dee3a08e1244febc81982517"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for handling received LoRa packets.  <br /></td></tr>
<tr class="separator:a3f494105dee3a08e1244febc81982517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ffba44d46e00b23bd72bdb3a4d58d1" id="r_a14ffba44d46e00b23bd72bdb3a4d58d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a14ffba44d46e00b23bd72bdb3a4d58d1">handle_uart_input</a> ()</td></tr>
<tr class="memdesc:a14ffba44d46e00b23bd72bdb3a4d58d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles UART input.  <br /></td></tr>
<tr class="separator:a14ffba44d46e00b23bd72bdb3a4d58d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e567748586559735a2e90bb2ce7e871" id="r_a8e567748586559735a2e90bb2ce7e871"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8e567748586559735a2e90bb2ce7e871">send_message</a> (std::string <a class="el" href="communication_8cpp.html#a13c45747091f32644e83d65348c61232">outgoing</a>)</td></tr>
<tr class="separator:a8e567748586559735a2e90bb2ce7e871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6c6f3b673e7e83306da7ea2458d3241" id="r_ae6c6f3b673e7e83306da7ea2458d3241"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6c6f3b673e7e83306da7ea2458d3241">send_frame</a> (const <a class="el" href="struct_frame.html">Frame</a> &amp;frame)</td></tr>
<tr class="separator:ae6c6f3b673e7e83306da7ea2458d3241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec7ba85230162ecba5bc19a53a0dd1e" id="r_a8ec7ba85230162ecba5bc19a53a0dd1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ec7ba85230162ecba5bc19a53a0dd1e">send_frame_uart</a> (const <a class="el" href="struct_frame.html">Frame</a> &amp;frame)</td></tr>
<tr class="separator:a8ec7ba85230162ecba5bc19a53a0dd1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a08614a5b6deb22c2d5658dbcfe78e2" id="r_a2a08614a5b6deb22c2d5658dbcfe78e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2a08614a5b6deb22c2d5658dbcfe78e2">send_frame_lora</a> (const <a class="el" href="struct_frame.html">Frame</a> &amp;frame)</td></tr>
<tr class="separator:a2a08614a5b6deb22c2d5658dbcfe78e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a207fb10d443babe78967d28c7565234a" id="r_a207fb10d443babe78967d28c7565234a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a207fb10d443babe78967d28c7565234a">split_and_send_message</a> (const uint8_t *data, size_t length)</td></tr>
<tr class="memdesc:a207fb10d443babe78967d28c7565234a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a large packet using LoRa.  <br /></td></tr>
<tr class="separator:a207fb10d443babe78967d28c7565234a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52e8963095eccdf1045309bf31b4d705" id="r_ga52e8963095eccdf1045309bf31b4d705"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_frame.html">Frame</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___command_system.html#ga52e8963095eccdf1045309bf31b4d705">execute_command</a> (uint32_t commandKey, const std::string &amp;param, <a class="el" href="protocol_8h.html#a9a2c9c31d675b34f6ec35cc1ca89e047">OperationType</a> operationType)</td></tr>
<tr class="memdesc:ga52e8963095eccdf1045309bf31b4d705"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a command based on its key.  <br /></td></tr>
<tr class="separator:ga52e8963095eccdf1045309bf31b4d705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af05369c30201e114f9546dfa74c75261" id="r_af05369c30201e114f9546dfa74c75261"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af05369c30201e114f9546dfa74c75261">frame_process</a> (const std::string &amp;data, <a class="el" href="protocol_8h.html#a209a41a363c6409f7276f93a08cc7ab0">Interface</a> interface)</td></tr>
<tr class="memdesc:af05369c30201e114f9546dfa74c75261"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a command based on the command key and the parameter.  <br /></td></tr>
<tr class="separator:af05369c30201e114f9546dfa74c75261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ae6df528775be58890bf406c906a056" id="r_a3ae6df528775be58890bf406c906a056"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ae6df528775be58890bf406c906a056">frame_encode</a> (const <a class="el" href="struct_frame.html">Frame</a> &amp;frame)</td></tr>
<tr class="memdesc:a3ae6df528775be58890bf406c906a056"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes a <a class="el" href="struct_frame.html">Frame</a> instance into a string.  <br /></td></tr>
<tr class="separator:a3ae6df528775be58890bf406c906a056"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b3438ff642c0934321101e1f0b8d82d" id="r_a0b3438ff642c0934321101e1f0b8d82d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_frame.html">Frame</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b3438ff642c0934321101e1f0b8d82d">frame_decode</a> (const std::string &amp;data)</td></tr>
<tr class="memdesc:a0b3438ff642c0934321101e1f0b8d82d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a string into a <a class="el" href="struct_frame.html">Frame</a> instance.  <br /></td></tr>
<tr class="separator:a0b3438ff642c0934321101e1f0b8d82d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70248162b9a616f543f470d88ccdf4a6" id="r_a70248162b9a616f543f470d88ccdf4a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_frame.html">Frame</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70248162b9a616f543f470d88ccdf4a6">frame_build</a> (<a class="el" href="protocol_8h.html#ad13fb53c92ad2af53a95ee45749796d1">ExecutionResult</a> result, uint8_t <a class="el" href="event__manager_8h.html#ad4291fcb880eb5ecb178b53e32f55741">group</a>, uint8_t command, const std::string &amp;value, const <a class="el" href="protocol_8h.html#a2d96449e2b52d45b5726af92084e0d8f">ValueUnit</a> unitType=<a class="el" href="protocol_8h.html#a2d96449e2b52d45b5726af92084e0d8fa0db45d2a4141101bdfe48e3314cfbca3">ValueUnit::UNDEFINED</a>)</td></tr>
<tr class="memdesc:a70248162b9a616f543f470d88ccdf4a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a <a class="el" href="struct_frame.html">Frame</a> instance.  <br /></td></tr>
<tr class="separator:a70248162b9a616f543f470d88ccdf4a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1df3cc2d97de283e0c229b2d87f39b47" id="r_a1df3cc2d97de283e0c229b2d87f39b47"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1df3cc2d97de283e0c229b2d87f39b47">determine_unit</a> (uint8_t <a class="el" href="event__manager_8h.html#ad4291fcb880eb5ecb178b53e32f55741">group</a>, uint8_t command)</td></tr>
<tr class="separator:a1df3cc2d97de283e0c229b2d87f39b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8f817ba4ed9164098cd3947f7cc3f749" name="a8f817ba4ed9164098cd3947f7cc3f749"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f817ba4ed9164098cd3947f7cc3f749">&#9670;&#160;</a></span>initialize_radio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool initialize_radio </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the LoRa radio module. </p>
<dl class="section return"><dt>Returns</dt><dd>True if initialization was successful, false otherwise.</dd></dl>
<p>Sets the LoRa pins and attempts to begin LoRa communication at a specified frequency. Emits a <a class="el" href="event__manager_8h.html#a0270a0464efae26aefb8cf32a45e20ada6651a96516b323db8bad9897081d76ed">CommsEvent::RADIO_INIT</a> event on success or a <a class="el" href="event__manager_8h.html#a0270a0464efae26aefb8cf32a45e20ada3b9824cc8a230f50d285d16795daa859">CommsEvent::RADIO_ERROR</a> event on failure. </p>

<p class="definition">Definition at line <a class="el" href="communication_8cpp_source.html#l00017">17</a> of file <a class="el" href="communication_8cpp_source.html">communication.cpp</a>.</p>

</div>
</div>
<a id="a3f494105dee3a08e1244febc81982517" name="a3f494105dee3a08e1244febc81982517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f494105dee3a08e1244febc81982517">&#9670;&#160;</a></span>on_receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void on_receive </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>packetSize</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for handling received LoRa packets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packetSize</td><td>The size of the received packet.</td></tr>
  </table>
  </dd>
</dl>
<p>Reads the received LoRa packet, extracts metadata, validates the lora_address_remote and local addresses, extracts the frame data, and processes it. Prints raw hex values for debugging. </p>

<p class="definition">Definition at line <a class="el" href="receive_8cpp_source.html#l00015">15</a> of file <a class="el" href="receive_8cpp_source.html">receive.cpp</a>.</p>

</div>
</div>
<a id="a14ffba44d46e00b23bd72bdb3a4d58d1" name="a14ffba44d46e00b23bd72bdb3a4d58d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14ffba44d46e00b23bd72bdb3a4d58d1">&#9670;&#160;</a></span>handle_uart_input()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_uart_input </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles UART input. </p>
<p>Reads characters from the UART port, appends them to a buffer, and processes the buffer when a newline character is received. </p>

<p class="definition">Definition at line <a class="el" href="receive_8cpp_source.html#l00076">76</a> of file <a class="el" href="receive_8cpp_source.html">receive.cpp</a>.</p>

</div>
</div>
<a id="a8e567748586559735a2e90bb2ce7e871" name="a8e567748586559735a2e90bb2ce7e871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e567748586559735a2e90bb2ce7e871">&#9670;&#160;</a></span>send_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_message </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>outgoing</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae6c6f3b673e7e83306da7ea2458d3241" name="ae6c6f3b673e7e83306da7ea2458d3241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6c6f3b673e7e83306da7ea2458d3241">&#9670;&#160;</a></span>send_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_frame </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_frame.html">Frame</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>frame</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="send_8cpp_source.html#l00048">48</a> of file <a class="el" href="send_8cpp_source.html">send.cpp</a>.</p>

</div>
</div>
<a id="a8ec7ba85230162ecba5bc19a53a0dd1e" name="a8ec7ba85230162ecba5bc19a53a0dd1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ec7ba85230162ecba5bc19a53a0dd1e">&#9670;&#160;</a></span>send_frame_uart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_frame_uart </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_frame.html">Frame</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>frame</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="send_8cpp_source.html#l00042">42</a> of file <a class="el" href="send_8cpp_source.html">send.cpp</a>.</p>

</div>
</div>
<a id="a2a08614a5b6deb22c2d5658dbcfe78e2" name="a2a08614a5b6deb22c2d5658dbcfe78e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a08614a5b6deb22c2d5658dbcfe78e2">&#9670;&#160;</a></span>send_frame_lora()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_frame_lora </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_frame.html">Frame</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>frame</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="send_8cpp_source.html#l00037">37</a> of file <a class="el" href="send_8cpp_source.html">send.cpp</a>.</p>

</div>
</div>
<a id="a207fb10d443babe78967d28c7565234a" name="a207fb10d443babe78967d28c7565234a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a207fb10d443babe78967d28c7565234a">&#9670;&#160;</a></span>split_and_send_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void split_and_send_message </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a large packet using LoRa. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The data to send. </td></tr>
    <tr><td class="paramname">length</td><td>The length of the data.</td></tr>
  </table>
  </dd>
</dl>
<p>Splits the data into chunks of MAX_PKT_SIZE and sends each chunk as a separate LoRa packet. </p>

<p class="definition">Definition at line <a class="el" href="send_8cpp_source.html#l00059">59</a> of file <a class="el" href="send_8cpp_source.html">send.cpp</a>.</p>

</div>
</div>
<a id="af05369c30201e114f9546dfa74c75261" name="af05369c30201e114f9546dfa74c75261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af05369c30201e114f9546dfa74c75261">&#9670;&#160;</a></span>frame_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void frame_process </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="protocol_8h.html#a209a41a363c6409f7276f93a08cc7ab0">Interface</a></td>          <td class="paramname"><span class="paramname"><em>interface</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes a command based on the command key and the parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The <a class="el" href="struct_frame.html">Frame</a> data in string format.</td></tr>
  </table>
  </dd>
</dl>
<p>Decodes the frame data, extracts the command key, and executes the corresponding command. Sends the response frame. If an error occurs, an error frame is built and sent. </p>

<p class="definition">Definition at line <a class="el" href="frame_8cpp_source.html#l00100">100</a> of file <a class="el" href="frame_8cpp_source.html">frame.cpp</a>.</p>

</div>
</div>
<a id="a3ae6df528775be58890bf406c906a056" name="a3ae6df528775be58890bf406c906a056"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ae6df528775be58890bf406c906a056">&#9670;&#160;</a></span>frame_encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string frame_encode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_frame.html">Frame</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>frame</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encodes a <a class="el" href="struct_frame.html">Frame</a> instance into a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>The <a class="el" href="struct_frame.html">Frame</a> instance to encode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="struct_frame.html">Frame</a> encoded as a string.</dd></dl>
<p>The encoded string includes the frame direction, operation type, group, command, value, and unit, all delimited by the DELIMITER character. The string is encapsulated by FRAME_BEGIN and FRAME_END. </p>

<p class="definition">Definition at line <a class="el" href="frame_8cpp_source.html#l00019">19</a> of file <a class="el" href="frame_8cpp_source.html">frame.cpp</a>.</p>

</div>
</div>
<a id="a0b3438ff642c0934321101e1f0b8d82d" name="a0b3438ff642c0934321101e1f0b8d82d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b3438ff642c0934321101e1f0b8d82d">&#9670;&#160;</a></span>frame_decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_frame.html">Frame</a> frame_decode </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a string into a <a class="el" href="struct_frame.html">Frame</a> instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The <a class="el" href="struct_frame.html">Frame</a> data as a string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="struct_frame.html">Frame</a> instance. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if the frame header is invalid.</td></tr>
  </table>
  </dd>
</dl>
<p>Parses the input string, extracting the frame direction, operation type, group, command, value, and unit. If an error occurs during parsing, an error message is printed to the UART, an error frame is built and sent, and the exception is re-thrown. </p>

<p class="definition">Definition at line <a class="el" href="frame_8cpp_source.html#l00044">44</a> of file <a class="el" href="frame_8cpp_source.html">frame.cpp</a>.</p>

</div>
</div>
<a id="a70248162b9a616f543f470d88ccdf4a6" name="a70248162b9a616f543f470d88ccdf4a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70248162b9a616f543f470d88ccdf4a6">&#9670;&#160;</a></span>frame_build()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_frame.html">Frame</a> frame_build </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="protocol_8h.html#ad13fb53c92ad2af53a95ee45749796d1">ExecutionResult</a></td>          <td class="paramname"><span class="paramname"><em>result</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>group</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>command</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="protocol_8h.html#a2d96449e2b52d45b5726af92084e0d8f">ValueUnit</a></td>          <td class="paramname"><span class="paramname"><em>unitType</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds a <a class="el" href="struct_frame.html">Frame</a> instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>The execution result. </td></tr>
    <tr><td class="paramname">group</td><td>The group ID. </td></tr>
    <tr><td class="paramname">command</td><td>The command ID. </td></tr>
    <tr><td class="paramname">value</td><td>The value. </td></tr>
    <tr><td class="paramname">unitType</td><td>The value unit type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="struct_frame.html">Frame</a> instance.</dd></dl>
<p>Constructs a <a class="el" href="struct_frame.html">Frame</a> instance based on the provided parameters. The frame direction and operation type are set based on the execution result. </p>

<p class="definition">Definition at line <a class="el" href="frame_8cpp_source.html#l00135">135</a> of file <a class="el" href="frame_8cpp_source.html">frame.cpp</a>.</p>

</div>
</div>
<a id="a1df3cc2d97de283e0c229b2d87f39b47" name="a1df3cc2d97de283e0c229b2d87f39b47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1df3cc2d97de283e0c229b2d87f39b47">&#9670;&#160;</a></span>determine_unit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string determine_unit </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>group</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>command</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_e552ec73e77e71738095e0b8c7e6e495.html">comms</a></li><li class="navelem"><a class="el" href="communication_8h.html">communication.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
