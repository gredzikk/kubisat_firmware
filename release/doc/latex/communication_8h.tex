\doxysection{lib/comms/communication.h File Reference}
\hypertarget{communication_8h}{}\label{communication_8h}\index{lib/comms/communication.h@{lib/comms/communication.h}}
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include "{}protocol.\+h"{}}\newline
{\ttfamily \#include "{}event\+\_\+manager.\+h"{}}\newline
Include dependency graph for communication.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{communication_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{communication_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{communication_8h_a520df448c1dc359f42111ac240081975}{initialize\+Radio}} ()
\begin{DoxyCompactList}\small\item\em Initializes the Lo\+Ra radio module. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{communication_8h_a877f9c1d3485cf1521bc13996d39c1fb}{send\+Message}} (std\+::string \mbox{\hyperlink{communication_8cpp_a13c45747091f32644e83d65348c61232}{outgoing}})
\item 
void \mbox{\hyperlink{communication_8h_a252a4ea5f222c6879d281cc2f9357b46}{send\+Large\+Packet}} (const uint8\+\_\+t \texorpdfstring{$\ast$}{*}data, size\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Sends a large packet using Lo\+Ra. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{communication_8h_a54817002e33761dc61558b1138749dfb}{on\+Receive}} (int packet\+Size)
\begin{DoxyCompactList}\small\item\em Callback function for handling received Lo\+Ra packets. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{communication_8h_ac5e175a6a1482f700f9aee0b727b924f}{handle\+Uart\+Input}} ()
\begin{DoxyCompactList}\small\item\em Handles UART input. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{communication_8h_a8b9407b2f579031cf4b705f1ac03ac31}{process\+Frame\+Data}} (const std\+::string \&data)
\begin{DoxyCompactList}\small\item\em Executes a command based on the command key and the parameter. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{communication_8h_a3ea1f464aef22cd9918b6fe75659c535}{handle\+Command\+Frame}} (const \mbox{\hyperlink{struct_frame}{Frame}} \&frame)
\item 
\mbox{\hyperlink{struct_frame}{Frame}} \mbox{\hyperlink{group___command_system_ga1907d400d2c8d8d054ba95bcf43276ea}{execute\+Command}} (uint32\+\_\+t command\+Key, const std\+::string \&param, \mbox{\hyperlink{protocol_8h_a9a2c9c31d675b34f6ec35cc1ca89e047}{Operation\+Type}} operation\+Type)
\begin{DoxyCompactList}\small\item\em Executes a command based on its key. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{communication_8h_a6005ddd6320bebe2a680fa6b8efff6dd}{send\+Event\+Register}} ()
\begin{DoxyCompactList}\small\item\em Sends the event register value to the ground station. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{communication_8h_ab53898fb6f45dfc657837a665a070959}{encode\+Frame}} (const \mbox{\hyperlink{struct_frame}{Frame}} \&frame)
\begin{DoxyCompactList}\small\item\em Encodes a \doxylink{struct_frame}{Frame} instance into a string. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_frame}{Frame}} \mbox{\hyperlink{communication_8h_a8f34bc31494430539db21206f084d39d}{decode\+Frame}} (const std\+::string \&data)
\begin{DoxyCompactList}\small\item\em Converts a string into a \doxylink{struct_frame}{Frame} instance. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_frame}{Frame}} \mbox{\hyperlink{communication_8h_a54afeb73435419551a1b51a3fd5c3266}{build\+Frame}} (\mbox{\hyperlink{protocol_8h_ad13fb53c92ad2af53a95ee45749796d1}{Execution\+Result}} result, uint8\+\_\+t \mbox{\hyperlink{event__manager_8h_ad4291fcb880eb5ecb178b53e32f55741}{group}}, uint8\+\_\+t command, const std\+::string \&value, const \mbox{\hyperlink{protocol_8h_a2d96449e2b52d45b5726af92084e0d8f}{Value\+Unit}} unit\+Type=\mbox{\hyperlink{protocol_8h_a2d96449e2b52d45b5726af92084e0d8fa0db45d2a4141101bdfe48e3314cfbca3}{Value\+Unit\+::\+UNDEFINED}})
\begin{DoxyCompactList}\small\item\em Builds a \doxylink{struct_frame}{Frame} instance. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{communication_8h_a6272bef4a482127bfe7c1b50d723d69d}{determine\+Unit}} (uint8\+\_\+t \mbox{\hyperlink{event__manager_8h_ad4291fcb880eb5ecb178b53e32f55741}{group}}, uint8\+\_\+t command)
\item 
void \mbox{\hyperlink{communication_8h_a752e7cc27f52d4ba064e691b3e240ed8}{send\+Frame}} (const \mbox{\hyperlink{struct_frame}{Frame}} \&frame)
\begin{DoxyCompactList}\small\item\em Sends a \doxylink{struct_frame}{Frame} using Lo\+Ra. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{communication_8h_a520df448c1dc359f42111ac240081975}\index{communication.h@{communication.h}!initializeRadio@{initializeRadio}}
\index{initializeRadio@{initializeRadio}!communication.h@{communication.h}}
\doxysubsubsection{\texorpdfstring{initializeRadio()}{initializeRadio()}}
{\footnotesize\ttfamily \label{communication_8h_a520df448c1dc359f42111ac240081975} 
bool initialize\+Radio (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Initializes the Lo\+Ra radio module. 

\begin{DoxyReturn}{Returns}
True if initialization was successful, false otherwise.
\end{DoxyReturn}
Sets the Lo\+Ra pins and attempts to begin Lo\+Ra communication at a specified frequency. Emits a \doxylink{event__manager_8h_a0270a0464efae26aefb8cf32a45e20ada6651a96516b323db8bad9897081d76ed}{Comms\+Event\+::\+RADIO\+\_\+\+INIT} event on success or a \doxylink{event__manager_8h_a0270a0464efae26aefb8cf32a45e20ada3b9824cc8a230f50d285d16795daa859}{Comms\+Event\+::\+RADIO\+\_\+\+ERROR} event on failure. 

Definition at line \mbox{\hyperlink{communication_8cpp_source_l00017}{17}} of file \mbox{\hyperlink{communication_8cpp_source}{communication.\+cpp}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=291pt]{communication_8h_a520df448c1dc359f42111ac240081975_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=230pt]{communication_8h_a520df448c1dc359f42111ac240081975_icgraph}
\end{center}
\end{figure}
\Hypertarget{communication_8h_a877f9c1d3485cf1521bc13996d39c1fb}\index{communication.h@{communication.h}!sendMessage@{sendMessage}}
\index{sendMessage@{sendMessage}!communication.h@{communication.h}}
\doxysubsubsection{\texorpdfstring{sendMessage()}{sendMessage()}}
{\footnotesize\ttfamily \label{communication_8h_a877f9c1d3485cf1521bc13996d39c1fb} 
void send\+Message (\begin{DoxyParamCaption}\item[{std\+::string}]{outgoing}{}\end{DoxyParamCaption})}

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=230pt]{communication_8h_a877f9c1d3485cf1521bc13996d39c1fb_icgraph}
\end{center}
\end{figure}
\Hypertarget{communication_8h_a252a4ea5f222c6879d281cc2f9357b46}\index{communication.h@{communication.h}!sendLargePacket@{sendLargePacket}}
\index{sendLargePacket@{sendLargePacket}!communication.h@{communication.h}}
\doxysubsubsection{\texorpdfstring{sendLargePacket()}{sendLargePacket()}}
{\footnotesize\ttfamily \label{communication_8h_a252a4ea5f222c6879d281cc2f9357b46} 
void send\+Large\+Packet (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{data}{, }\item[{size\+\_\+t}]{length}{}\end{DoxyParamCaption})}



Sends a large packet using Lo\+Ra. 


\begin{DoxyParams}{Parameters}
{\em data} & The data to send. \\
\hline
{\em length} & The length of the data.\\
\hline
\end{DoxyParams}
Splits the data into chunks of MAX\+\_\+\+PKT\+\_\+\+SIZE and sends each chunk as a separate Lo\+Ra packet. 

Definition at line \mbox{\hyperlink{send_8cpp_source_l00055}{55}} of file \mbox{\hyperlink{send_8cpp_source}{send.\+cpp}}.

\Hypertarget{communication_8h_a54817002e33761dc61558b1138749dfb}\index{communication.h@{communication.h}!onReceive@{onReceive}}
\index{onReceive@{onReceive}!communication.h@{communication.h}}
\doxysubsubsection{\texorpdfstring{onReceive()}{onReceive()}}
{\footnotesize\ttfamily \label{communication_8h_a54817002e33761dc61558b1138749dfb} 
void on\+Receive (\begin{DoxyParamCaption}\item[{int}]{packet\+Size}{}\end{DoxyParamCaption})}



Callback function for handling received Lo\+Ra packets. 


\begin{DoxyParams}{Parameters}
{\em packet\+Size} & The size of the received packet.\\
\hline
\end{DoxyParams}
Reads the received Lo\+Ra packet, extracts metadata, validates the destination and local addresses, extracts the frame data, and processes it. Prints raw hex values for debugging. 

Definition at line \mbox{\hyperlink{receive_8cpp_source_l00015}{15}} of file \mbox{\hyperlink{receive_8cpp_source}{receive.\+cpp}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{communication_8h_a54817002e33761dc61558b1138749dfb_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=216pt]{communication_8h_a54817002e33761dc61558b1138749dfb_icgraph}
\end{center}
\end{figure}
\Hypertarget{communication_8h_ac5e175a6a1482f700f9aee0b727b924f}\index{communication.h@{communication.h}!handleUartInput@{handleUartInput}}
\index{handleUartInput@{handleUartInput}!communication.h@{communication.h}}
\doxysubsubsection{\texorpdfstring{handleUartInput()}{handleUartInput()}}
{\footnotesize\ttfamily \label{communication_8h_ac5e175a6a1482f700f9aee0b727b924f} 
void handle\+Uart\+Input (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Handles UART input. 

Reads characters from the UART port, appends them to a buffer, and processes the buffer when a newline character is received. 

Definition at line \mbox{\hyperlink{receive_8cpp_source_l00077}{77}} of file \mbox{\hyperlink{receive_8cpp_source}{receive.\+cpp}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{communication_8h_ac5e175a6a1482f700f9aee0b727b924f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=238pt]{communication_8h_ac5e175a6a1482f700f9aee0b727b924f_icgraph}
\end{center}
\end{figure}
\Hypertarget{communication_8h_a8b9407b2f579031cf4b705f1ac03ac31}\index{communication.h@{communication.h}!processFrameData@{processFrameData}}
\index{processFrameData@{processFrameData}!communication.h@{communication.h}}
\doxysubsubsection{\texorpdfstring{processFrameData()}{processFrameData()}}
{\footnotesize\ttfamily \label{communication_8h_a8b9407b2f579031cf4b705f1ac03ac31} 
void process\+Frame\+Data (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{data}{}\end{DoxyParamCaption})}



Executes a command based on the command key and the parameter. 


\begin{DoxyParams}{Parameters}
{\em data} & The \doxylink{struct_frame}{Frame} data in string format.\\
\hline
\end{DoxyParams}
Decodes the frame data, extracts the command key, and executes the corresponding command. Sends the response frame. If an error occurs, an error frame is built and sent. 

Definition at line \mbox{\hyperlink{frame_8cpp_source_l00100}{100}} of file \mbox{\hyperlink{frame_8cpp_source}{frame.\+cpp}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{communication_8h_a8b9407b2f579031cf4b705f1ac03ac31_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{communication_8h_a8b9407b2f579031cf4b705f1ac03ac31_icgraph}
\end{center}
\end{figure}
\Hypertarget{communication_8h_a3ea1f464aef22cd9918b6fe75659c535}\index{communication.h@{communication.h}!handleCommandFrame@{handleCommandFrame}}
\index{handleCommandFrame@{handleCommandFrame}!communication.h@{communication.h}}
\doxysubsubsection{\texorpdfstring{handleCommandFrame()}{handleCommandFrame()}}
{\footnotesize\ttfamily \label{communication_8h_a3ea1f464aef22cd9918b6fe75659c535} 
void handle\+Command\+Frame (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_frame}{Frame}} \&}]{frame}{}\end{DoxyParamCaption})}

\Hypertarget{communication_8h_a6005ddd6320bebe2a680fa6b8efff6dd}\index{communication.h@{communication.h}!sendEventRegister@{sendEventRegister}}
\index{sendEventRegister@{sendEventRegister}!communication.h@{communication.h}}
\doxysubsubsection{\texorpdfstring{sendEventRegister()}{sendEventRegister()}}
{\footnotesize\ttfamily \label{communication_8h_a6005ddd6320bebe2a680fa6b8efff6dd} 
void send\+Event\+Register (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Sends the event register value to the ground station. 

This function is called in the main loop to send the current value of the event register. 

Definition at line \mbox{\hyperlink{frame_8cpp_source_l00119}{119}} of file \mbox{\hyperlink{frame_8cpp_source}{frame.\+cpp}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{communication_8h_a6005ddd6320bebe2a680fa6b8efff6dd_cgraph}
\end{center}
\end{figure}
\Hypertarget{communication_8h_ab53898fb6f45dfc657837a665a070959}\index{communication.h@{communication.h}!encodeFrame@{encodeFrame}}
\index{encodeFrame@{encodeFrame}!communication.h@{communication.h}}
\doxysubsubsection{\texorpdfstring{encodeFrame()}{encodeFrame()}}
{\footnotesize\ttfamily \label{communication_8h_ab53898fb6f45dfc657837a665a070959} 
std\+::string encode\+Frame (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_frame}{Frame}} \&}]{frame}{}\end{DoxyParamCaption})}



Encodes a \doxylink{struct_frame}{Frame} instance into a string. 


\begin{DoxyParams}{Parameters}
{\em frame} & The \doxylink{struct_frame}{Frame} instance to encode. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The \doxylink{struct_frame}{Frame} encoded as a string.
\end{DoxyReturn}
The encoded string includes the frame direction, operation type, group, command, value, and unit, all delimited by the DELIMITER character. The string is encapsulated by FRAME\+\_\+\+BEGIN and FRAME\+\_\+\+END. 

Definition at line \mbox{\hyperlink{frame_8cpp_source_l00019}{19}} of file \mbox{\hyperlink{frame_8cpp_source}{frame.\+cpp}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=304pt]{communication_8h_ab53898fb6f45dfc657837a665a070959_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{communication_8h_ab53898fb6f45dfc657837a665a070959_icgraph}
\end{center}
\end{figure}
\Hypertarget{communication_8h_a8f34bc31494430539db21206f084d39d}\index{communication.h@{communication.h}!decodeFrame@{decodeFrame}}
\index{decodeFrame@{decodeFrame}!communication.h@{communication.h}}
\doxysubsubsection{\texorpdfstring{decodeFrame()}{decodeFrame()}}
{\footnotesize\ttfamily \label{communication_8h_a8f34bc31494430539db21206f084d39d} 
\mbox{\hyperlink{struct_frame}{Frame}} decode\+Frame (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{data}{}\end{DoxyParamCaption})}



Converts a string into a \doxylink{struct_frame}{Frame} instance. 


\begin{DoxyParams}{Parameters}
{\em data} & The \doxylink{struct_frame}{Frame} data as a string. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The \doxylink{struct_frame}{Frame} instance. 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & if the frame header is invalid.\\
\hline
\end{DoxyExceptions}
Parses the input string, extracting the frame direction, operation type, group, command, value, and unit. If an error occurs during parsing, an error message is printed to the UART, an error frame is built and sent, and the exception is re-\/thrown. 

Definition at line \mbox{\hyperlink{frame_8cpp_source_l00044}{44}} of file \mbox{\hyperlink{frame_8cpp_source}{frame.\+cpp}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{communication_8h_a8f34bc31494430539db21206f084d39d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{communication_8h_a8f34bc31494430539db21206f084d39d_icgraph}
\end{center}
\end{figure}
\Hypertarget{communication_8h_a54afeb73435419551a1b51a3fd5c3266}\index{communication.h@{communication.h}!buildFrame@{buildFrame}}
\index{buildFrame@{buildFrame}!communication.h@{communication.h}}
\doxysubsubsection{\texorpdfstring{buildFrame()}{buildFrame()}}
{\footnotesize\ttfamily \label{communication_8h_a54afeb73435419551a1b51a3fd5c3266} 
\mbox{\hyperlink{struct_frame}{Frame}} build\+Frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{protocol_8h_ad13fb53c92ad2af53a95ee45749796d1}{Execution\+Result}}}]{result}{, }\item[{uint8\+\_\+t}]{group}{, }\item[{uint8\+\_\+t}]{command}{, }\item[{const std\+::string \&}]{value}{, }\item[{const \mbox{\hyperlink{protocol_8h_a2d96449e2b52d45b5726af92084e0d8f}{Value\+Unit}}}]{unit\+Type}{}\end{DoxyParamCaption})}



Builds a \doxylink{struct_frame}{Frame} instance. 


\begin{DoxyParams}{Parameters}
{\em result} & The execution result. \\
\hline
{\em group} & The group ID. \\
\hline
{\em command} & The command ID. \\
\hline
{\em value} & The value. \\
\hline
{\em unit\+Type} & The value unit type. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The \doxylink{struct_frame}{Frame} instance.
\end{DoxyReturn}
Constructs a \doxylink{struct_frame}{Frame} instance based on the provided parameters. The frame direction and operation type are set based on the execution result. 

Definition at line \mbox{\hyperlink{frame_8cpp_source_l00146}{146}} of file \mbox{\hyperlink{frame_8cpp_source}{frame.\+cpp}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=294pt]{communication_8h_a54afeb73435419551a1b51a3fd5c3266_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{communication_8h_a54afeb73435419551a1b51a3fd5c3266_icgraph}
\end{center}
\end{figure}
\Hypertarget{communication_8h_a6272bef4a482127bfe7c1b50d723d69d}\index{communication.h@{communication.h}!determineUnit@{determineUnit}}
\index{determineUnit@{determineUnit}!communication.h@{communication.h}}
\doxysubsubsection{\texorpdfstring{determineUnit()}{determineUnit()}}
{\footnotesize\ttfamily \label{communication_8h_a6272bef4a482127bfe7c1b50d723d69d} 
std\+::string determine\+Unit (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{group}{, }\item[{uint8\+\_\+t}]{command}{}\end{DoxyParamCaption})}

\Hypertarget{communication_8h_a752e7cc27f52d4ba064e691b3e240ed8}\index{communication.h@{communication.h}!sendFrame@{sendFrame}}
\index{sendFrame@{sendFrame}!communication.h@{communication.h}}
\doxysubsubsection{\texorpdfstring{sendFrame()}{sendFrame()}}
{\footnotesize\ttfamily \label{communication_8h_a752e7cc27f52d4ba064e691b3e240ed8} 
void send\+Frame (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_frame}{Frame}} \&}]{frame}{}\end{DoxyParamCaption})}



Sends a \doxylink{struct_frame}{Frame} using Lo\+Ra. 


\begin{DoxyParams}{Parameters}
{\em frame} & The \doxylink{struct_frame}{Frame} to send.\\
\hline
\end{DoxyParams}
Encodes the \doxylink{struct_frame}{Frame} into a string and sends it using the send\+Message function. 

Definition at line \mbox{\hyperlink{send_8cpp_source_l00042}{42}} of file \mbox{\hyperlink{send_8cpp_source}{send.\+cpp}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{communication_8h_a752e7cc27f52d4ba064e691b3e240ed8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{communication_8h_a752e7cc27f52d4ba064e691b3e240ed8_icgraph}
\end{center}
\end{figure}
